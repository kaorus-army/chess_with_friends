
[1mFrom:[0m /vagrant/src/chess_with_friends/app/models/piece.rb @ line 51 Piece#obstructed_diagonal?:

    [1;34m36[0m: [32mdef[0m [1;34mobstructed_diagonal?[0m(end_coord)
    [1;34m37[0m: 
    [1;34m38[0m:   end_x_pos = end_coord[[1;34m0[0m]
    [1;34m39[0m:   end_y_pos = end_coord[[1;34m1[0m]
    [1;34m40[0m:   test_coordinates = []
    [1;34m41[0m:   spaces = ([1;36mself[0m.x_pos - end_x_pos).abs
    [1;34m42[0m:   count = [1;34m1[0m
    [1;34m43[0m: 
    [1;34m44[0m:   [32mif[0m [1;36mself[0m.x_pos < end_x_pos && [1;36mself[0m.y_pos < end_y_pos
    [1;34m45[0m:     (spaces - [1;34m1[0m).times [32mdo[0m
    [1;34m46[0m:       test_coordinates << [[1;36mself[0m.(x_pos - count), [1;36mself[0m.(y_pos - count)]
    [1;34m47[0m:       count = count + [1;34m1[0m
    [1;34m48[0m:     [32mend[0m
    [1;34m49[0m:   [32mend[0m
    [1;34m50[0m: 
 => [1;34m51[0m:    binding.pry
    [1;34m52[0m: 
    [1;34m53[0m:   [1;36mself[0m.game.uncaptured_pieces.each { |piece| [32mreturn[0m [1;36mtrue[0m [32mif[0m test_coordinates.include?(piece.coordinate) }
    [1;34m54[0m: 
    [1;34m55[0m:   [32mreturn[0m [1;36mfalse[0m
    [1;34m56[0m: 
    [1;34m57[0m: [32mend[0m

